{{!-- social.hbs --}}
<style>
    ul.list-group .list-group-item:hover {
  background-color: #242424 !important;
  border-color: #C6AA76 !important;  /* gold border */
  box-shadow: none !important;
}

  /* Friend name + username styling */
  .friend-name {
    color: white !important;
  }

  .friend-link {
    color: #C6AA76 !important;
    text-decoration: none;
  }

  .friend-link:hover {
    color: white !important;
    text-decoration: underline;
  }
  .score-actions-container {
  min-width: 280px; /* adjust depending on how many buttons you have */
  text-align: right;
  
}

/* Optional make score look clean */
.friend-score {
  color: #C6AA76;
  width: 70px;           /* uniform width = perfect alignment */
  text-align: right;
  display: inline-block;
}

.gold-btn {
  width: 110px;         /* pick a size that fits your longest text */
  height: 36px;         /* optional */
  padding: 6px 0 !important;
  text-align: center;
  white-space: nowrap;  /* prevents wrapping */
}
</style>

{{#> socialWrapper}}
<p>Friends</p> 
<div class="list-group">
  
  <!-- Header Row -->
  <li class="list-group-item d-flex align-items-center header-row">
    <div class="flex-grow-1">
      <strong class="friend-name">Name</strong>
    </div>

    <!-- Right column header (aligned with score column) -->
    <div class="score-actions-container d-flex justify-content-end">
      <strong class="friend-score me-3">W-L-T</strong>
    </div>
  </li>

{{#each friends}}
  <ul class="list-group">
    <li class="list-group-item d-flex align-items-center">
  
    <!-- LEFT: name + username -->
    <div class="flex-grow-1">
        <strong class="friend-name">{{first_name}} {{last_name}}</strong><br>
        <a href="/profile/display/{{username}}" class="friend-link">@{{username}}</a>
    </div>

    <!-- RIGHT: score + buttons (right-aligned, uniform) -->
    <div class="d-flex align-items-center justify-content-end score-actions-container">

        <!-- Buttons -->
        <div class="d-flex gap-2">
        {{#if none}}
            <button type="button" class="gold-btn" data-bs-toggle="modal" data-bs-target="#challengeModal-{{username}}">Challenge</button>
        {{/if}}

        {{#if pending}}
            <form method="POST" action="/profile/social/challenge/cancel">
            <input type="hidden" name="friend_username" value="{{username}}">
            <button type="submit" class="gold-btn">Cancel</button>
            </form>
        {{/if}}

        {{#if accept}}
            <button type="button" class="gold-btn" data-bs-toggle="modal" data-bs-target="#acceptModal-{{username}}">Accept</button>
        {{/if}}

        {{#if play}}
            <form method="POST" action="/profile/social/challenge/play">
            <input type="hidden" name="friend_username" value="{{username}}">
            <button type="submit" class="gold-btn">Play</button>
            </form>
        {{/if}}

        {{#if waiting}}
            <span class="badge bg-secondary text-light">Waiting</span>
        {{/if}}

        <!-- Score (always same spot) -->
        <strong class="friend-score me-3">{{user_wins}}-{{friend_wins}}-{{ties}}</strong>
        </div>

    </div>
    </li>

  </ul>

  {{> challengeModal}}
  {{> acceptModal}}

{{/each}}

{{/socialWrapper}}

{{> message}}
