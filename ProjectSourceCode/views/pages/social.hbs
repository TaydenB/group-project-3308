<style>
    body{
        background-color: #181818;
        color: white;
    }
</style>
{{#> socialWrapper}}
<p>Friends</p>

{{#each friends}}
    <ul class="list-group">
        <li class="list-group-item d-flex justify-content-between align-items-center">
            <div>
                <strong style="color: black;">{{first_name}} {{last_name}}</strong>
                <br>
                <a href="/profile/display/{{username}}" class="mb-0 link-dark link-offset-1 link-underline-opacity-25 link-underline-opacity-100-hover">@{{username}}</a>
            </div>
            <div class="d-flex gap-2">
                {{#if none}}
                    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#challengeModal-{{username}}">Challenge</button>
                {{/if}}
                {{#if pending}}
                    <form method="POST" action="/profile/social/challenge/cancel">
                        <input type="hidden" name="friend_username" value="{{username}}">
                        <button type="submit" class="btn btn-danger float-end">Cancel</button>
                    </form>
                {{/if}}
                {{#if accept}}
                    <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#acceptModal-{{username}}">Accept</button>
                {{/if}}
                {{#if play}}
                    <form method="POST" action="/profile/social/challenge/play">
                        <input type="hidden" name="friend_username" value="{{username}}">
                        <button type="submit" class="btn btn-success float-end">Play</button>
                    </form>
                {{/if}}
                {{#if waiting}}
                     <span class="badge bg-secondary text-light">Waiting for Friend</span>
                {{/if}}
            </div>
        </li>
    </ul>
        {{> challengeModal}}
        {{> acceptModal}}
    
{{/each}}
{{/socialWrapper}}

{{> message}}