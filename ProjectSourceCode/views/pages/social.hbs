{{!-- social.hbs --}}
<style>
    ul.list-group .list-group-item:hover {
  background-color: #242424 !important;
  border-color: #C6AA76 !important;  /* gold border */
  box-shadow: none !important;
}

  /* Friend name + username styling */
  .friend-name {
    color: white !important;
  }

  .friend-link {
    color: #C6AA76 !important;
    text-decoration: none;
  }

  .friend-link:hover {
    color: white !important;
    text-decoration: underline;
  }
</style>

{{#> socialWrapper}}
<p>Friends</p>

{{#each friends}}
  <ul class="list-group">
    <li class="list-group-item d-flex justify-content-between align-items-center">
      <div>
        <strong class="friend-name">{{first_name}} {{last_name}}</strong>
        <br>
        <a href="/profile/display/{{username}}" class="friend-link">@{{username}}</a>
      </div>

      <div class="d-flex gap-2">
        {{#if none}}
          <button type="button" class="gold-btn" data-bs-toggle="modal" data-bs-target="#challengeModal-{{username}}">Challenge</button>
        {{/if}}

        {{#if pending}}
          <form method="POST" action="/profile/social/challenge/cancel">
            <input type="hidden" name="friend_username" value="{{username}}">
            <button type="submit" class="gold-btn">Cancel</button>
          </form>
        {{/if}}

        {{#if accept}}
          <button type="button" class="gold-btn" data-bs-toggle="modal" data-bs-target="#acceptModal-{{username}}">Accept</button>
        {{/if}}

        {{#if play}}
          <form method="POST" action="/profile/social/challenge/play">
            <input type="hidden" name="friend_username" value="{{username}}">
            <button type="submit" class="gold-btn">Play</button>
          </form>
        {{/if}}

        {{#if waiting}}
          <span class="badge bg-secondary text-light">Waiting for Friend</span>
        {{/if}}
      </div>
    </li>
  </ul>

  {{> challengeModal}}
  {{> acceptModal}}

{{/each}}

{{/socialWrapper}}

{{> message}}
